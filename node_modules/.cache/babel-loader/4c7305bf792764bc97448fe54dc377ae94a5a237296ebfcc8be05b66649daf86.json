{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\ai-video-tutor\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst synth = window.speechSynthesis;\nfunction App() {\n  _s();\n  const [listening, setListening] = useState(false);\n  const [question, setQuestion] = useState(\"\");\n  const [answer, setAnswer] = useState(\"\");\n  const [guide, setGuide] = useState([]);\n  const recognitionRef = useRef(null);\n\n  // üî• FIX: Initialize SpeechRecognition properly\n  useEffect(() => {\n    if (\"webkitSpeechRecognition\" in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = \"en-US\";\n      recognition.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        console.log(\"Heard:\", transcript);\n        setQuestion(transcript);\n        sendQuestion(transcript);\n      };\n      recognition.onerror = err => console.log(\"Error:\", err);\n      recognitionRef.current = recognition;\n    }\n  }, []);\n  const startListening = () => {\n    if (recognitionRef.current) {\n      setListening(true);\n      recognitionRef.current.start();\n    }\n  };\n  const stopListening = () => {\n    if (recognitionRef.current) {\n      setListening(false);\n      recognitionRef.current.stop();\n    }\n  };\n\n  // Backend Rule-based API Call\n  const sendQuestion = async q => {\n    try {\n      const res = await fetch(\"http://localhost:5000/ask\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          question: q\n        })\n      });\n      const data = await res.json();\n      setAnswer(data.answer);\n      setGuide(data.guide);\n      speakAnswer(data.answer, data.guide);\n    } catch (error) {\n      console.log(\"API Error:\", error);\n    }\n  };\n\n  // Speak Answer\n  const speakAnswer = (ans, guideSteps) => {\n    const finalText = ans + \". \" + guideSteps.join(\". \");\n    let utterance = new SpeechSynthesisUtterance(finalText);\n    utterance.rate = 1;\n    synth.speak(utterance);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      fontFamily: \"sans-serif\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD83C\\uDF99\\uFE0F Rule-Based Voice Tutor (Mockup)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: listening ? stopListening : startListening,\n      children: listening ? \"Stop Listening\" : \"Start Listening\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), question && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"You asked:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 23\n      }, this), \" \", question]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 20\n    }, this), answer && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Answer:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this), \" \", answer]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 18\n    }, this), guide.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Step-by-Step Guide:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        children: guide.map((g, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: g\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20,\n        width: 400,\n        height: 300,\n        border: \"2px solid #ddd\",\n        borderRadius: 10,\n        overflow: \"hidden\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"video\", {\n        src: \"/tutor_video.mp4\",\n        autoPlay: true,\n        loop: true,\n        muted: true,\n        style: {\n          width: \"100%\",\n          height: \"100%\",\n          objectFit: \"cover\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"soHTE1U3EZJ9eGBmdJV/B0599iY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","synth","window","speechSynthesis","App","_s","listening","setListening","question","setQuestion","answer","setAnswer","guide","setGuide","recognitionRef","recognition","webkitSpeechRecognition","continuous","interimResults","lang","onresult","event","transcript","results","console","log","sendQuestion","onerror","err","current","startListening","start","stopListening","stop","q","res","fetch","method","headers","body","JSON","stringify","data","json","speakAnswer","error","ans","guideSteps","finalText","join","utterance","SpeechSynthesisUtterance","rate","speak","style","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","map","g","i","marginTop","width","height","border","borderRadius","overflow","src","autoPlay","loop","muted","objectFit","_c","$RefreshReg$"],"sources":["C:/Users/Hp/ai-video-tutor/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nconst synth = window.speechSynthesis;\r\n\r\nfunction App() {\r\n  const [listening, setListening] = useState(false);\r\n  const [question, setQuestion] = useState(\"\");\r\n  const [answer, setAnswer] = useState(\"\");\r\n  const [guide, setGuide] = useState([]);\r\n\r\n  const recognitionRef = useRef(null);\r\n\r\n  // üî• FIX: Initialize SpeechRecognition properly\r\n  useEffect(() => {\r\n    if (\"webkitSpeechRecognition\" in window) {\r\n      const recognition = new window.webkitSpeechRecognition();\r\n      recognition.continuous = false;\r\n      recognition.interimResults = false;\r\n      recognition.lang = \"en-US\";\r\n\r\n      recognition.onresult = (event) => {\r\n        const transcript = event.results[0][0].transcript;\r\n        console.log(\"Heard:\", transcript);\r\n        setQuestion(transcript);\r\n        sendQuestion(transcript);\r\n      };\r\n\r\n      recognition.onerror = (err) => console.log(\"Error:\", err);\r\n\r\n      recognitionRef.current = recognition;\r\n    }\r\n  }, []);\r\n\r\n  const startListening = () => {\r\n    if (recognitionRef.current) {\r\n      setListening(true);\r\n      recognitionRef.current.start();\r\n    }\r\n  };\r\n\r\n  const stopListening = () => {\r\n    if (recognitionRef.current) {\r\n      setListening(false);\r\n      recognitionRef.current.stop();\r\n    }\r\n  };\r\n\r\n  // Backend Rule-based API Call\r\n  const sendQuestion = async (q) => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/ask\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ question: q })\r\n      });\r\n\r\n      const data = await res.json();\r\n      setAnswer(data.answer);\r\n      setGuide(data.guide);\r\n      speakAnswer(data.answer, data.guide);\r\n    } catch (error) {\r\n      console.log(\"API Error:\", error);\r\n    }\r\n  };\r\n\r\n  // Speak Answer\r\n  const speakAnswer = (ans, guideSteps) => {\r\n    const finalText = ans + \". \" + guideSteps.join(\". \");\r\n    let utterance = new SpeechSynthesisUtterance(finalText);\r\n    utterance.rate = 1;\r\n    synth.speak(utterance);\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 20, fontFamily: \"sans-serif\" }}>\r\n      <h1>üéôÔ∏è Rule-Based Voice Tutor (Mockup)</h1>\r\n\r\n      <button onClick={listening ? stopListening : startListening}>\r\n        {listening ? \"Stop Listening\" : \"Start Listening\"}\r\n      </button>\r\n\r\n      {question && <p><b>You asked:</b> {question}</p>}\r\n      {answer && <p><b>Answer:</b> {answer}</p>}\r\n\r\n      {guide.length > 0 && (\r\n        <div>\r\n          <b>Step-by-Step Guide:</b>\r\n          <ol>\r\n            {guide.map((g, i) => (\r\n              <li key={i}>{g}</li>\r\n            ))}\r\n          </ol>\r\n        </div>\r\n      )}\r\n\r\n      {/* üî• VIDEO WILL WORK IF FILE EXISTS */}\r\n      <div\r\n        style={{\r\n          marginTop: 20,\r\n          width: 400,\r\n          height: 300,\r\n          border: \"2px solid #ddd\",\r\n          borderRadius: 10,\r\n          overflow: \"hidden\"\r\n        }}\r\n      >\r\n        <video\r\n          src=\"/tutor_video.mp4\"\r\n          autoPlay\r\n          loop\r\n          muted\r\n          style={{ width: \"100%\", height: \"100%\", objectFit: \"cover\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}